<div class="col col-sm-10">
  <h3 class="lead text-center">Product Details </h3>
  <hr>
  <div class="col col-sm-6">
    <img  class="listing-image" ng-src="{{ listing.image_url }}">
  </div>
  <div class="col col-sm-4">
    <p>{{ listing.name }}</p>
    <p>{{ listing.username }}</p>
    <p>{{ listing.category }}</p>
    <p>{{ listing.description }}</p>
    <p>{{ listing.condition }}</p>
    <p>{{ listing.max_price | currency }}</p>
  </div>
</div>

<br>

<div class="col col-sm-10">
  <h3 class="lead text-center">Ongoing offers</h3>
  <hr>
  <div ng-if="(!listing.closed && offers.length > 0)">
    <div class="col col-sm-4" ng-repeat="offer in offers">
      <div class="thumbnail text-center" >
        <img class="listing-image img-responsive" ng-src="{{ offer.image_url }}">
        <div class="caption">
          <h3>{{ offer.name }}</h3>
          <p>{{ offer.description }}</p>
          <p>Bid: <strong>{{ offer.offer_price | currency }}</strong></p>
        </div>
      </div>
    </div>
  </div>
</div>

<div ng-if="(offers.length === 0)" class="text-center">
  <p>This product has no offers yet.</p>
</div>

<div ng-if="(!listing.closed)">
  <div class="make-offer">
    <hr>
    <h3 class="lead text-center">Make an offer</h3>
    <div class="alert alert-success" role="alert" ng-if="message">
      Your offer has been made
    </div>
  </div>
  <hr>
  <form class="form-horizontal" ng-submit="makeOffer()">
    <div class="form-group">
      <label for="productName" class="col-sm-2 control-label">Name</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="productName" placeholder="How would you name your product?" ng-model="newOffer.name">
      </div>
    </div>
    <div class="form-group">
      <label for="productDescription" class="col-sm-2 control-label">Description</label>
      <div class="col-sm-10">
  		<textarea class="form-control" rows="3" id="productDescription" placeholder="Write nice things about it! Your goal is to sell it" ng-model="newOffer.description"></textarea>
      </div>
    </div>
    <div class="form-group">
      <label for="productCondition" class="col-sm-2 control-label">Condition</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="productCondition" placeholder="In which condition is the product being offered?" ng-model="newOffer.condition">
      </div>
    </div>
    <div class="form-group" ng-controller='ImageCtrl'>
      <label for="productUrl" class="col-sm-2 control-label">Image</label>
      <div class="col-sm-8">
        <input class="form-control" id="productUrl" type="file" name="file" file>
          <div class="progress-bar" role="progressbar" aria-valuenow="{{ uploadProgress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ uploadProgress }}%;">
              {{ uploadProgress == 0 ? '' : uploadProgress + '%'}}
          </div>
          <p class='alert alert-danger' role="alert" ng-if='errorMSG'>{{errorMSG}}</p>
      </div>
      <div class="col-sm-2"><a class="btn btn-primary pull-right" ng-click="upload()">Upload</a></div>
    </div>
	  <div class="form-group">
	    <label for="productPrice" class="col-sm-2 control-label">Price</label>
	    <div class="col-sm-10">
        <div class="input-group">
          <div class="input-group-addon">$</div>
          <input type="number" step="0.01" class="form-control" id="productPrice" placeholder="Place your offer" ng-model="newOffer.price">
        </div>
      </div>
      <hr>
      <div class="col-sm-2 col-sm-offset-2">
				<label>Current:</label>
	    </div>
      <div class="col-sm-1">
				{{ listing.max_price | currency }}
	    </div>
      <div class="col-sm-2">
				<label>Max:</label>
	    </div>
	   <div class="col-sm-1">
				{{ listing.max_price | currency }}
	    </div>
      <div class="col-sm-2">
        <label>Quick sell:</label>
      </div>
      <div class="col-sm-1">
        {{ listing.accept_price | currency }}
      </div>
	  </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-4">
        <div class="checkbox">
          <label>
            <input type="checkbox"> Follow this auction
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">Offer</button>
      </div>
    </div>
  </form>



<!-- next div closes the if condition -->
</div>

<div ng-if="(listing.closed)" class="text-center">
  <p>This listing has been closed. You can no longer bid on it.</p>
</div>
